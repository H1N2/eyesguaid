# EyesGuard 功能需求文档

## 1. 项目概述

### 1.1 项目背景
EyesGuard 是一款专注于保护用户眼睛健康的 Windows 桌面应用程序。针对长时间使用电脑的办公人群，通过定时提醒和强制休息功能，帮助用户养成健康的用眼习惯，预防视觉疲劳和相关健康问题。

### 1.2 项目目标
- 开发一款易用、稳定的护眼提醒软件
- 通过强制休息机制确保用户真正得到休息
- 提供人性化的界面和交互体验
- 最小化对用户日常工作的干扰

## 2. 功能需求

### 2.1 计时功能
- 采用番茄工作法，支持自定义工作和休息时间
- 工作时间范围：10-60分钟（默认25分钟）
- 休息时间范围：3-15分钟（默认5分钟）
- 支持工作时间倒计时显示
- 休息前2分钟预警提醒

### 2.2 休息界面
- 全屏显示休息界面，支持多显示器
- 使用护眼绿(#C7EDCC)作为背景色
- 显示剩余休息时间和护眼小贴士
- 使用大号无衬线字体确保清晰度
- 休息状态下锁定键鼠输入

### 2.3 托盘功能
- 支持最小化到系统托盘
- 托盘图标显示剩余工作时间
- 右键菜单包含：
  - 马上休息
  - 设置
  - 退出
- 支持托盘图标闪烁提醒

### 2.4 设置功能
- 工作时间设置
- 休息时间设置
- 管理密码设置（可选）
  - 密码长度≥6位
  - 支持字母数字组合
  - 提供密码重置功能

### 2.5 快捷键支持
- Alt + B：立即休息
- Alt + S：打开设置
- Alt + Q：退出程序

### 2.6 数据存储
- 使用SQLite数据库存储配置
- 数据库加密存储
- 自动备份和恢复机制
- 异常时自动重建数据库

## 3. 非功能需求

### 3.1 性能要求
- 内存占用 ≤ 50MB
- 空闲CPU使用率 ≤ 1%
- 启动时间 ≤ 3秒

### 3.2 兼容性要求
- 支持Windows 10及以上版本
- 支持多显示器环境
- 适配不同分辨率

### 3.3 安全性要求
- 配置数据加密存储
- 管理密码加密保存
- 防止非法退出休息状态

### 3.4 可靠性要求
- 系统休眠/待机恢复后重新计时
- 异常退出后自动恢复
- 保留近7天运行日志

## 4. 技术架构

### 4.1 开发环境
- 语言：C#
- 框架：.NET Windows Forms
- 数据库：SQLite

### 4.2 项目结构
- UI层：窗体和控件
- 业务逻辑层：核心功能实现
- 数据访问层：配置和日志存储

### 4.3 代码规范
- 采用PascalCase命名类和方法
- 使用camelCase命名变量
- 必须包含XML文档注释
- 关键代码添加行内注释

## 5. 测试要求

### 5.1 单元测试
- 核心功能模块单元测试
- 数据访问层测试
- 配置管理测试

### 5.2 集成测试
- 完整功能流程测试
- 多显示器环境测试
- 异常处理测试

### 5.3 性能测试
- 内存占用测试
- CPU使用率测试
- 长时间运行稳定性测试

## 6. 交付标准

### 6.1 代码质量
- 通过所有单元测试
- 符合代码规范要求
- 完整的代码注释

### 6.2 文档要求
- 完整的用户手册
- 详细的API文档
- 部署和维护指南

### 6.3 产品包装
- 安装程序
- README文档
- 更新日志
- 开源许可说明